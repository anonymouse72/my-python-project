"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[459],{27466:function(L,t,e){e.r(t);var E=e(17061),o=e.n(E),P=e(17156),h=e.n(P),c=e(27424),v=e.n(c),C=e(67294),n=e(23323),l=e(45803),u=e(55999),D=e(37026),R=e(39522),M=e(20829),O=e(93578),s=e(85893),f=function(){var g=(0,O.s0)(),A=n.Z.useForm(),B=v()(A,1),i=B[0],I=function(){var T=h()(o()().mark(function d(m){var _;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Success:",m),a.prev=1,a.next=4,i.validateFields(["email"]);case 4:(0,M.pH)(m).then(function(r){console.log(r),r.status==200?(localStorage.setItem("session",r.data.session),localStorage.setItem("user",r.data.user),l.ZP.success(r.data.message),g("/")):(console.error(r.message),l.ZP.error(r.data.message))}).catch(function(r){console.error("Error fetching messages:",r)}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("\u767B\u5F55\u5931\u8D25:",a.t0),l.ZP.error(a.t0===null||a.t0===void 0||(_=a.t0.response)===null||_===void 0||(_=_.data)===null||_===void 0?void 0:_.message);case 11:case"end":return a.stop()}},d,null,[[1,7]])}));return function(m){return T.apply(this,arguments)}}();return(0,s.jsx)("div",{className:"auth-container",children:(0,s.jsx)("div",{className:"auth-card",children:(0,s.jsxs)(n.Z,{form:i,name:"Login",initialValues:{remember:!0},onFinish:I,className:"auth-form",children:[(0,s.jsx)(n.Z.Item,{name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"},{pattern:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740!"}],children:(0,s.jsx)(u.Z,{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"})}),(0,s.jsx)(n.Z.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:(0,s.jsx)(u.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})}),(0,s.jsx)(n.Z.Item,{children:(0,s.jsx)("div",{className:"margincenter",children:(0,s.jsx)(D.ZP,{type:"primary",htmlType:"submit",className:"auth-button",children:"Login"})})})]})})})};t.default=f},39522:function(){}}]);
